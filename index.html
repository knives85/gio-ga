---
layout: default
---

<!-- Hero Section -->
<section id="hero" class="hero">
    <div class="hero-content">
        <h1 class="names">{{ site.sposa.nome }} <span>&amp;</span> {{ site.sposo.nome }}</h1>
        <p class="wedding-date">{{ site.matrimonio.data_formattata }}</p>
        <div class="countdown" id="countdown">
            <div class="countdown-item">
                <span id="days">0</span>
                <label>Giorni</label>
            </div>
            <div class="countdown-item">
                <span id="hours">0</span>
                <label>Ore</label>
            </div>
            <div class="countdown-item">
                <span id="minutes">0</span>
                <label>Minuti</label>
            </div>
        </div>
        <a href="#rsvp" class="cta-button">Conferma la tua presenza</a>
    </div>
    <div class="hero-image">
        <img src="/assets/images/hero-couple.png" alt="{{ site.sposa.nome }} e {{ site.sposo.nome }}">
    </div>
</section>

<!-- La Nostra Storia -->
<section id="storia" class="our-story">
    <div class="container">
        <h2>Benvenuti</h2>
        <div class="story-content">
            <p class="story-text">
                Carissimi amici e parenti,<br>
                Il nostro matrimonio si avvicina!<br>
                Di seguito abbiamo raccolto una serie di informazioni e dettagli utili per la cerimonia e il
                ricevimento. <br>
                Speriamo di poter regalare a tutti voi una giornata speciale, ricca di emozioni e ricordi da
                collezionare. Vi chiediamo di segnalarci eventuali vostre necessit√†, faremo il possibile per
                soddisfarle. <br><br>

                Non vediamo l‚Äôora di trascorrere il nostro giorno pi√π bello con voi! <br><br>

                A presto, <br>
                Gio e Gabri

            </p>
        </div>
    </div>
</section>

<!-- Dettagli Matrimonio -->
<section id="dettagli" class="wedding-details">
    <div class="container">
        <h2>Dettagli del Matrimonio</h2>
        <div class="details-grid">
            <div class="detail-card">
                <div class="detail-icon">‚õ™</div>
                <h3>Cerimonia</h3>
                <p><strong>{{ site.cerimonia.nome }}</strong></p>
                <p>{{ site.cerimonia.indirizzo }}</p>
                <p>Ore {{ site.matrimonio.ora_cerimonia }}</p>
                <a href="https://maps.google.com/?q={{ site.cerimonia.coordinate }}" target="_blank" class="map-link">Visualizza
                    mappa</a>
            </div>
            <div class="detail-card">
                <div class="detail-icon">üçΩÔ∏è</div>
                <h3>Ricevimento</h3>
                <p><strong>{{ site.ricevimento.nome }}</strong></p>
                <p>{{ site.ricevimento.indirizzo }}</p>
                <p>&nbsp;</p>
                <a href="https://maps.google.com/?q={{ site.ricevimento.coordinate }}" target="_blank" class="map-link">Visualizza
                    mappa</a>
            </div>
        </div>
    </div>
</section>

<!-- RSVP Form -->
<section id="rsvp" class="rsvp">
    <div class="container">
        <h2>Conferma la tua presenza</h2>

        <form name="rsvp" netlify class="rsvp-form" action="/success" onsubmit="saveRisposta(); prepareFormSubmission()">
            <input type="hidden" name="form-name" value="rsvp">

            <!-- Campo nascosto per i nomi (verr√† riempito dinamicamente) -->
            <input type="hidden" id="nomi-partecipanti-hidden" name="nomi-partecipanti">
            <input type="hidden" id="tot-partecipanti-hidden" name="totale-partecipanti">

            <div class="form-group">
                <label for="partecipazione">Parteciper√≥ *</label>
                <select id="partecipazione" name="partecipazione" required onchange="togglePartecipantiSection()">
                    <option value="">Seleziona...</option>
                    <option value="si">S√¨</option>
                    <option value="no">No, purtroppo</option>
                </select>
            </div>

            <div id="partecipanti-no-section" style="display: none;">
                <div class="form-group">
                    <label for="tel">Nome e Cognome *</label>
                    <input type="text" class="partecipante-nome-no" required>
                </div>
            </div>

            <!-- Sezione partecipanti (visibile solo se risposta = S√¨) -->
            <div id="partecipanti-si-section" style="display: none;">
                <div class="form-group">
                    <label>Partecipanti *</label>
                    <p class="form-help">Inserisci il nome e cognome di ogni partecipante (compresi i bambini)</p>

                    <div id="partecipanti-list">
                        <!-- Il primo partecipante √® sempre visibile -->
                        <div class="partecipante-item" data-index="0">
                            <div class="partecipante-row">
                                <input type="text"
                                       class="partecipante-nome"
                                       placeholder="Nome e Cognome"
                                       required>
                                <button type="button" class="remove-partecipante" onclick="removePartecipante(0)" style="display: none;">
                                    ‚úï
                                </button>
                            </div>
                        </div>
                    </div>

                    <button type="button" class="add-partecipante" onclick="addPartecipante()">
                        + Aggiungi partecipante
                    </button>
                </div>

                <div class="form-group">
                    <label for="bambini">Quanti bambini presenti</label>
                    <input type="number" id="bambini" name="bambini" min="0" value="0">
                    <p class="form-group-note">
                        Per i bambini dai 3 ai 12 anni √® stato pensato un momento dedicato al divertimento con uno staff di
                        animatori esperti.
                        I bimbi che parteciperanno avranno l'opportunit√† di mangiare presto ad un tavolo a loro dedicato,
                        in modo da potersi dedicare poi ai giochi organizzati per loro
                    </p>
                </div>

                <div class="form-group">
                    <label for="seggiolone">Avete bisogno di un seggiolone al tavolo?</label>
                    <select id="seggiolone" name="seggiolone" onchange="toggleSeggiolone()">
                        <option value="">Seleziona...</option>
                        <option value="si">S√¨</option>
                        <option value="no">No</option>
                    </select>
                </div>

                <div id="seggiolone-numero-section" style="display: none;">
                    <div class="form-group">
                        <label for="seggiolone-numero">Quanti?</label>
                        <input type="number" id="seggiolone-numero" name="seggiolone-numero" min="0" value="0">
                    </div>
                </div>

                <div class="form-group">
                    <label for="intolleranze">Allergie e intolleranze alimentari</label>
                    <textarea id="intolleranze" name="intolleranze" rows="3"
                              placeholder="Descrivi eventuali allergie o intolleranze alimentari"></textarea>
                </div>

                <div class="form-group">
                    <label for="tel">Telefono *</label>
                    <input type="text" id="tel" name="tel" required>
                </div>
            </div>

            <div class="form-group">
                <label for="altro">Altro da sapere? </label>
                <textarea id="altro" name="altro" rows="3"></textarea>
            </div>

            <p class="form-note">
                Si prega di confermare la propria presenza entro il <strong>31/05/2026</strong>
            </p>

            <button type="submit" class="submit-button">Invia Conferma</button>
        </form>
    </div>
</section>

<!-- Lista Nozze -->
<section id="regali" class="gifts">
    <div class="container">
        <h2></h2>
        <div class="gifts-options">
            <div class="gift-option">
                <h3>&#x1f495; Sogni nel Cassetto &#x1f495;</h3>
                <p>Se avete piacere di partecipare alla realizzazione dei nostri sogni nel cassetto, questo √® il momento giusto!</p>
                <p><strong>IBAN:</strong> IT27 T032 6801 013052734213550</p>
                <p><strong>Causale:</strong> regalo di nozze Giorgia e Gabriele</p>
            </div>
        </div>
    </div>
</section>

<!-- Galleria -->
<section id="galleria" class="gallery">
    <div class="container">
        <div class="gallery-grid">
            <div class="gallery-item">
                <img src="/assets/images/gallery/foto1.jpeg" alt="Giorgia e Gabriele" loading="lazy">
            </div>
            <div class="gallery-item">
                <img src="/assets/images/gallery/foto2.jpeg" alt="Giorgia e Gabriele" loading="lazy">
            </div>
            <div class="gallery-item">
                <img src="/assets/images/gallery/foto3.jpeg" alt="Giorgia e Gabriele" loading="lazy">
            </div>
            <div class="gallery-item">
                <img src="/assets/images/gallery/foto4.jpeg" alt="Giorgia e Gabriele" loading="lazy">
            </div>
            <div class="gallery-item">
                <img src="/assets/images/gallery/foto5_mod.jpeg" alt="Giorgia e Gabriele" loading="lazy">
            </div>
            <div class="gallery-item">
                <img src="/assets/images/gallery/foto6.jpeg" alt="Giorgia e Gabriele" loading="lazy">
            </div>
        </div>
    </div>
</section>

<style>
    /* Stili per i partecipanti dinamici */
    .partecipante-item {
        margin-bottom: 0.8rem;
    }

    .partecipante-row {
        display: flex;
        gap: 0.5rem;
        align-items: center;
    }

    .partecipante-nome {
        flex: 1;
        padding: 1rem;
        border: 2px solid #e0e0e0;
        border-radius: 8px;
        font-size: 1rem;
        font-family: 'Lato', sans-serif;
        transition: all 0.3s ease;
    }

    .partecipante-nome:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 3px rgba(30, 58, 95, 0.1);
    }

    .remove-partecipante {
        padding: 0.8rem 1rem;
        background: #e53935;
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 1.2rem;
        cursor: pointer;
        transition: all 0.3s ease;
        min-width: 45px;
    }

    .remove-partecipante:hover {
        background: #c62828;
        transform: scale(1.05);
    }

    .add-partecipante {
        width: 100%;
        padding: 1rem;
        background: white;
        color: var(--primary-color);
        border: 2px dashed var(--primary-color);
        border-radius: 8px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        margin-top: 1rem;
    }

    .add-partecipante:hover {
        background: var(--primary-color);
        color: white;
        border-style: solid;
    }

    .form-help {
        font-size: 0.95rem;
        color: var(--light-text);
        margin-bottom: 1rem;
        font-style: italic;
    }


</style>

<script>
    // Countdown timer
    function countdown() {
        const weddingDate = new Date("{{ site.matrimonio.data }}T{{ site.matrimonio.ora_cerimonia }}").getTime();
        const now = new Date().getTime();
        const distance = weddingDate - now;

        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));

        document.getElementById("days").innerHTML = days;
        document.getElementById("hours").innerHTML = hours;
        document.getElementById("minutes").innerHTML = minutes;

        if (distance < 0) {
            document.getElementById("countdown").innerHTML = "Il matrimonio √® oggi!";
        }
    }

    countdown();
    setInterval(countdown, 60000);

    // Smooth scrolling
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            document.querySelector(this.getAttribute('href')).scrollIntoView({
                behavior: 'smooth'
            });
        });
    });

    // Gallery lightbox effect
    document.querySelectorAll('.gallery-item img').forEach(img => {
        img.addEventListener('click', function () {
            const lightbox = document.createElement('div');
            lightbox.classList.add('lightbox');
            lightbox.innerHTML = `
            <div class="lightbox-content">
                <img src="${this.src}" alt="${this.alt}">
                <span class="close">&times;</span>
            </div>
        `;
            document.body.appendChild(lightbox);

            lightbox.querySelector('.close').addEventListener('click', () => {
                document.body.removeChild(lightbox);
            });

            lightbox.addEventListener('click', (e) => {
                if (e.target === lightbox) {
                    document.body.removeChild(lightbox);
                }
            });
        });
    });

    let partecipantiCount = 1;

    // Mostra/nasconde sezione partecipanti
    function togglePartecipantiSection() {
        const risposta = document.getElementById('partecipazione').value;
        const section_si = document.getElementById('partecipanti-si-section');
        const section_no = document.getElementById('partecipanti-no-section');

        if (risposta === 'si') {
            section_si.style.display = 'block';
            section_no.style.display = 'none';

            // Rendi required i campi partecipanti
            document.querySelectorAll('.partecipante-nome-no').forEach(input => {
                input.required = false;
            });
            document.getElementById('tel').required = true;
            document.querySelectorAll('.partecipante-nome').forEach(input => {
                input.required = true;
            });
        } else {
            section_si.style.display = 'none';
            section_no.style.display = 'block';

            document.querySelectorAll('.partecipante-nome-no').forEach(input => {
                input.required = true;
            });
            document.getElementById('tel').required = false;
            // Rimuovi required dai campi partecipanti
            document.querySelectorAll('.partecipante-nome').forEach(input => {
                input.required = false;
            });
        }
    }

    function toggleSeggiolone() {
        const risposta = document.getElementById('seggiolone').value;
        const section_seggiolone_num = document.getElementById('seggiolone-numero-section');

        if (risposta === 'si') {
            section_seggiolone_num.style.display = 'block';

            // Rendi required i campi partecipanti
            document.getElementById('seggiolone-numero').required = true;
            document.getElementById('seggiolone-numero').value = 1;
        } else {
            section_seggiolone_num.style.display = 'none';

            document.getElementById('seggiolone-numero').required = false;
            document.getElementById('seggiolone-numero').value = 0;
        }
    }

    // Aggiungi nuovo partecipante
    function addPartecipante() {
        const list = document.getElementById('partecipanti-list');
        const newIndex = partecipantiCount;

        const newItem = document.createElement('div');
        newItem.className = 'partecipante-item';
        newItem.setAttribute('data-index', newIndex);
        newItem.innerHTML = `
            <div class="partecipante-row">
                <input type="text"
                       class="partecipante-nome"
                       placeholder="Nome e Cognome"
                       required>
                <button type="button" class="remove-partecipante" onclick="removePartecipante(${newIndex})">
                    ‚úï
                </button>
            </div>
        `;

        list.appendChild(newItem);
        partecipantiCount++;

        // Mostra il pulsante rimuovi sul primo elemento se ci sono pi√π partecipanti
        updateRemoveButtons();
    }

    // Rimuovi partecipante
    function removePartecipante(index) {
        const item = document.querySelector(`.partecipante-item[data-index="${index}"]`);
        if (item) {
            item.remove();
            updateRemoveButtons();
        }
    }

    // Aggiorna visibilit√† pulsanti rimuovi
    function updateRemoveButtons() {
        const items = document.querySelectorAll('.partecipante-item');
        const firstRemoveBtn = items[0]?.querySelector('.remove-partecipante');

        if (items.length > 1) {
            // Mostra tutti i pulsanti rimuovi se ci sono pi√π partecipanti
            items.forEach(item => {
                item.querySelector('.remove-partecipante').style.display = 'block';
            });
        } else {
            // Nascondi il pulsante rimuovi se c'√® solo un partecipante
            if (firstRemoveBtn) {
                firstRemoveBtn.style.display = 'none';
            }
        }
    }

    // Prepara i dati per l'invio
    function prepareFormSubmission() {
        const risposta = document.getElementById('partecipazione').value;
        let nomiString = '';
        let totPartecipanti = 0;

        if (risposta === 'si') {
            const nomiInputs = document.querySelectorAll('.partecipante-nome');
            const nomi = Array.from(nomiInputs)
                .map(input => input.value.trim())
                .filter(nome => nome !== '');

            nomiString = nomi.join(', ');
            totPartecipanti = nomi.length;
        } else {
            const nomeNo = document.querySelectorAll('.partecipante-no-nome').item(0);
            nomiString = nomeNo.value.trim();
        }

        // Inserisci nel campo nascosto
        document.getElementById('nomi-partecipanti-hidden').value = nomiString;
        document.getElementById('tot-partecipanti-hidden').value = totPartecipanti;

        return true; // Permetti l'invio del form
    }

    function saveRisposta() {
        const risposta = document.getElementById('partecipazione').value;
        alert('Grazie per aver confermato la tua presenza!' + risposta);
        if (risposta.includes('si')) {
            localStorage.setItem('rsvp_risposta', 'si');
        } else if (risposta.includes('no')) {
            localStorage.setItem('rsvp_risposta', 'no');
        }
    }
</script>